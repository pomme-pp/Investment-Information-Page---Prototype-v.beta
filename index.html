<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Market Page v0.4</title>
  <style>
    body {
      margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      background: var(--bg); color: var(--fg); transition: background 0.3s, color 0.3s;
    }
    :root {
      --bg: #ffffff; --fg: #111; --accent: #0077cc; --sidebar-bg: #f7f7f7;
    }
    body.dark {
      --bg: #222; --fg: #eee; --accent: #3399ff; --sidebar-bg: #333;
    }
    .container { display: flex; height: 100vh; }
    .sidebar {
      width: 200px; background: var(--sidebar-bg); padding: 1rem 0;
      display: flex; flex-direction: column; gap: 1rem;
    }
    .sidebar a {
      color: var(--fg); text-decoration: none; padding: 0.5rem 1rem;
      display: flex; align-items: center; gap: 0.5rem;
    }
    .sidebar a:hover { background: var(--accent); color: #fff; }
    .content { flex: 1; overflow-y: auto; padding: 1rem 2rem; }
    h2 { margin-top: 0; border-bottom: 1px solid #ccc; padding-bottom: 0.3rem; }
    .news-item {
      display: flex; align-items: center; gap: 0.5rem; margin: 0.3rem 0;
    }
    .news-item img { width: 16px; height: 16px; }
    .products-grid {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;
    }
    .card { border: 1px solid #ccc; padding: 0.5rem; border-radius: 4px; background: var(--sidebar-bg); }
    .theme-toggle { margin: 1rem; }
  </style>
</head>
<body>
<div class="container">
  <div class="sidebar">
    <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ—</button>
    <a href="#news">ðŸ“° News</a>
    <a href="#products">ðŸ“ˆ Products</a>
    <a href="#calendar">ðŸ“… Calendar</a>
    <a href="#summary">ðŸ“Š Market Summary</a>
  </div>
  <div class="content">
    <section id="news">
      <h2>Highlighted News</h2>
      <div class="card">
        <h3>World</h3>
        <div class="news-item"><img src="https://www.cnbc.com/favicon.ico"><a href="https://www.cnbc.com/world/">CNBC</a></div>
        <div class="news-item"><img src="https://www.cnn.com/favicon.ico"><a href="https://www.cnn.com/world">CNN</a></div>
        <div class="news-item"><img src="https://www.bbc.com/favicon.ico"><a href="https://www.bbc.com/news/world">BBC</a></div>
        <div class="news-item"><img src="https://www.bloomberg.com/favicon.ico"><a href="https://www.bloomberg.com/world">Bloomberg</a></div>
      </div>
      <div class="card">
        <h3>U.S.</h3>
        <div class="news-item"><img src="https://www.cnbc.com/favicon.ico"><a href="https://www.cnbc.com/us-news/">CNBC US</a></div>
        <div class="news-item"><img src="https://www.cnn.com/favicon.ico"><a href="https://www.cnn.com/us">CNN US</a></div>
        <div class="news-item"><img src="https://www.bbc.com/favicon.ico"><a href="https://www.bbc.com/news/world/us_and_canada">BBC US</a></div>
        <div class="news-item"><img src="https://www.bloomberg.com/favicon.ico"><a href="https://www.bloomberg.com/markets/economics">Bloomberg Economics</a></div>
      </div>
      <div class="card">
        <h3>Thailand</h3>
        <div class="news-item"><img src="https://www.ryt9.com/favicon.ico"><a href="https://www.ryt9.com/en/">RYT9</a></div>
        <div class="news-item"><img src="https://www.cnbc.com/favicon.ico"><a href="https://www.cnbc.com/world/?region=asia">CNBC Asia</a></div>
        <div class="news-item"><img src="https://www.bloomberg.com/favicon.ico"><a href="https://www.bloomberg.com/asia">Bloomberg Asia</a></div>
      </div>
      <div class="card">
        <h3>Japan</h3>
        <div class="news-item"><img src="https://www.cnbc.com/favicon.ico"><a href="https://www.cnbc.com/japan/">CNBC Japan</a></div>
        <div class="news-item"><img src="https://www.bbc.com/favicon.ico"><a href="https://www.bbc.com/news/world/asia/japan">BBC Japan</a></div>
        <div class="news-item"><img src="https://www.cnn.com/favicon.ico"><a href="https://edition.cnn.com/asia">CNN Asia</a></div>
        <div class="news-item"><img src="https://www.bloomberg.com/favicon.ico"><a href="https://www.bloomberg.com/asia">Bloomberg Asia</a></div>
      </div>
      <div class="card">
        <h3>Finance & Investment</h3>
        <div class="news-item"><img src="https://www.cnbc.com/favicon.ico"><a href="https://www.cnbc.com/markets/">CNBC Markets</a></div>
        <div class="news-item"><img src="https://www.cnn.com/favicon.ico"><a href="https://edition.cnn.com/business">CNN Business</a></div>
        <div class="news-item"><img src="https://www.bbc.com/favicon.ico"><a href="https://www.bbc.com/news/business">BBC Business</a></div>
        <div class="news-item"><img src="https://www.bloomberg.com/favicon.ico"><a href="https://www.bloomberg.com/markets">Bloomberg Markets</a></div>
      </div>
    </section>

    <section id="products">
      <h2>Products</h2>
      <div class="products-grid" id="productGrid"></div>
    </section>

    <section id="calendar">
      <h2>Economic Calendar (US)</h2>
      <div class="card">
        <iframe src="https://www.tradingview.com/embed-widget/events/?locale=en#%7B%22filter%22%3A%7B%22country%22%3A%5B%22US%22%5D%2C%22importance%22%3A%5B2%2C3%5D%7D%7D"
          width="100%" height="400" frameborder="0"></iframe>
      </div>
    </section>

    <section id="summary">
      <h2>Market Summary (SET)</h2>
      <div class="card">
        <iframe src="https://www.set.or.th/en/market/statistics/investor-type" width="100%" height="400" frameborder="0"></iframe>
        <p><a href="https://www.set.or.th/en/market/statistics/investor-type" target="_blank">Open in new tab</a></p>
      </div>
    </section>
  </div>
</div>

<script>
const DEFAULT_INSTRUMENTS = ["OANDA:XAUUSD", "SET:SET50", "SET:SET", "OANDA:USDTHB", "BINANCE:BTCUSDT"];
function renderProducts() {
  const grid = document.getElementById('productGrid');
  grid.innerHTML = '';
  DEFAULT_INSTRUMENTS.forEach(sym => {
    const div = document.createElement('div');
    div.className = 'card';
    div.innerHTML = `<div class="tradingview-widget-container">
      <iframe src="https://s.tradingview.com/widgetembed/?symbol=${encodeURIComponent(sym)}&interval=15&hidesidetoolbar=1&hidetoptoolbar=1&symboledit=1&saveimage=0&toolbarbg=f1f3f6&studies=[]&hideideas=1&theme=light"
      width="100%" height="250" frameborder="0"></iframe></div>`;
    grid.appendChild(div);
  });
}
function toggleTheme() {
  document.body.classList.toggle('dark');
  localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
}
if(localStorage.getItem('theme') === 'dark') document.body.classList.add('dark');
renderProducts();
</script>
</body>
</html>
